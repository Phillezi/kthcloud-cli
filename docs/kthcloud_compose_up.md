## kthcloud compose up

Deploy compose configuration to cloud

### Synopsis


This command allows you to bring up a local compose definition to kthcloud.

It will automatically detect if you have custom deployments in your config that needs to be built.
[!NOTE]: To keep track of custom deployments a file in "./.kthcloud/DEPLOYMENT" is made (relative to the build context of the service). This file contains the UUID of the deployment that the service maps to.

To rebuild services you can apply the --build flag to rebuild all services, or specify the ones you want to rebuild.

Volumes can be defined and managed, but it is done in a hacky way. Since the storage (filebrowser) instance that gets deployed for your user is behind a oauth2 proxy that only uses cookies for authentication. The current solution is as mention very hacky as it will try to scrape your browser for these cookies to authenticate. This only works on Linux and MacOS, but it can be unreliable since browser companies dont want you to be able too scrape stuff like this.

Default behaviour of this command will after creating all the deployments setup SSE log streams from all created deployments to your terminal. This can be skipped by adding the -d flag.

```
kthcloud compose up [flags]
```

### Examples

```
kthcloud compose up \
	--file ./somesubdir/example.compose.yml \
	--try-volumes
```

### Options

```
      --build strings[=__all__]   Build services and push to registry, can be followed by service name to specify which should be built
  -d, --detached                  Run detached, default behaviour attaches logs from the deployments.
  -h, --help                      help for up
      --non-interactive           Yes to all options and run non interactively
      --try-volumes               Try uploading local files and dirs that should be mounted on the deployment.
                                  If enabled it will "steal" cookies from your browser to authenticate.
```

### Options inherited from parent commands

```
      --api-url string             Base URL of the API (default "https://api.cloud.cbh.kth.se/deploy")
      --client-id string           Keycloak client ID (default "landing")
      --client-secret string       Keycloak client secret
      --file string                Specify which docker-compose file to use.
      --keycloak-host string       Keycloak server endpoint (default "https://iam.cloud.cbh.kth.se")
      --keycloak-realm string      Keycloak realm (default "cloud")
      --loglevel string            Set the logging level (info, warn, error, debug) (default "info")
      --redirect-uri string        Keycloak redirect endpoint URI (default "http://localhost:3000/auth/callback")
      --request-timeout duration   The timeout for requests (default 10s)
```

### SEE ALSO

* [kthcloud compose](kthcloud_compose.md)	 - Deploy and manage Docker Compose projects on the cloud

###### Auto generated by spf13/cobra on 17-May-2025
